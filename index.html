<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Two Sides of Space – Scrollytelling</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #000000;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --accent-1: #22c55e;
      --accent-2: #38bdf8;
      --accent-3: #f97316;
      --card: rgba(15, 23, 42, 0.9);
      --border: rgba(148, 163, 184, 0.4);
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.9);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #000;
      color: var(--text-main);
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* Space / starfield background */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 20% 0%, rgba(56, 189, 248, 0.23), transparent 60%),
        radial-gradient(circle at 80% 100%, rgba(94, 234, 212, 0.18), transparent 60%),
        radial-gradient(circle at 50% 50%, rgba(15, 23, 42, 0.9), transparent 70%),
        radial-gradient(1px 1px at 10% 20%, rgba(148, 163, 184, 0.7) 0, transparent 60%),
        radial-gradient(1px 1px at 80% 30%, rgba(148, 163, 184, 0.5) 0, transparent 60%),
        radial-gradient(1px 1px at 40% 80%, rgba(148, 163, 184, 0.35) 0, transparent 60%);
      opacity: 0.9;
      pointer-events: none;
      z-index: -2;
      animation: drift 60s linear infinite;
    }

    @keyframes drift {
      0% { transform: translateY(0); }
      100% { transform: translateY(120px); }
    }

    /* Scroll progress bar */
    .scroll-progress {
      position: fixed;
      top: 0;
      left: 0;
      height: 4px;
      width: 0%;
      background: linear-gradient(90deg, var(--accent-1), var(--accent-2), var(--accent-3));
      box-shadow: 0 0 16px rgba(59, 130, 246, 0.9);
      z-index: 999;
      transition: width 0.18s ease-out;
    }

    /* HERO (no widget yet) */
    .hero-wrapper {
      max-width: 1100px;
      margin: 0 auto;
      padding: 32px 18px 48px;
    }

    header.hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 18px;
      position: relative;
      z-index: 2;
    }

    .hero-kicker {
      font-size: 0.85rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--text-muted);
    }

    .hero-title {
      font-size: clamp(2.3rem, 4vw, 3.2rem);
      font-weight: 800;
      line-height: 1.1;
    }

    .hero-title span {
      background: linear-gradient(120deg, var(--accent-1), var(--accent-2), var(--accent-3));
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      max-width: 60ch;
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    .hero-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 8px;
    }

    .chip {
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.11em;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.85);
      color: var(--text-muted);
    }

    .chip.good {
      border-color: rgba(52, 211, 153, 0.75);
      color: #bbf7d0;
    }

    .chip.bad {
      border-color: rgba(248, 113, 113, 0.85);
      color: #fecaca;
    }

    .hero-note {
      font-size: 0.8rem;
      color: var(--text-muted);
      max-width: 48ch;
    }

    /* ACT labels in overlay */
    .act-label-inline {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .act-pill {
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(8px);
    }

    .act-pill.act-1 { border-color: rgba(52, 211, 153, 0.75); color: #bbf7d0; }
    .act-pill.act-2 { border-color: rgba(248, 113, 113, 0.75); color: #fecaca; }
    .act-pill.act-3 { border-color: rgba(129, 140, 248, 0.8); color: #c7d2fe; }

    /* FULLSCREEN CHAPTERS */
    .chapters-container {
      position: relative;
      z-index: 1;
    }

    .chapter {
      position: relative;
      min-height: 100vh;
      width: 100vw;
      overflow: hidden;
      color: var(--text-main);
    }

    /* Fullscreen widget backdrop */
    .chapter-bg {
      position: absolute;
      inset: 0;
      z-index: 0;
      overflow: hidden;
      transform-origin: center center;
      will-change: transform, opacity;
    }

    .chapter-bg::before {
      /* dark overlay to keep text readable */
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.5), transparent 65%);
      pointer-events: none;
      z-index: 1;
    }

    /* Widget scaling shell */
    .widget-shell {
      position: absolute;
      top: 50%;
      left: 50%;
      /* transform scale set via JS; keep centered */
      transform: translate(-50%, -50%);
      transform-origin: top left;
      z-index: 0;
    }

    /* Base "design" size – overridden per widget with data attrs */
    .widget-shell iframe {
      width: 1400px;  /* default design width */
      height: 800px;  /* default design height */
      border: none;
      display: block;
    }

    /* Text overlay HUD */
    .chapter-overlay {
      position: relative;
      z-index: 2;
      max-width: 1100px;
      margin: 0 auto;
      padding: 72px 18px 72px;
      display: flex;
      align-items: center;
      min-height: 100vh;
      pointer-events: none; /* let interactions pass to widget except text */
    }

    .chapter-text {
      max-width: 32rem;
      background: linear-gradient(
          to bottom right,
          rgba(15, 23, 42, 0.95),
          rgba(15, 23, 42, 0.85)
        );
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      box-shadow: var(--shadow-soft);
      padding: 18px 18px 16px;
      backdrop-filter: blur(10px);
      will-change: transform, opacity;
      pointer-events: auto; /* text is clickable/scrollable */
    }

    .chapter-text h2 {
      margin: 4px 0 6px;
      font-size: 1.4rem;
    }

    .chapter-lede {
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .chapter-text p {
      margin: 6px 0 8px;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .chapter-text p.strong {
      color: var(--text-main);
    }

    .chapter-meta {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 4px;
      font-style: italic;
    }

    /* Full-text last scene */
    .chapter.full-text .chapter-overlay {
      justify-content: center;
      text-align: center;
    }

    .chapter.full-text .chapter-text {
      max-width: 48rem;
    }

    .final-earth {
      width: 260px;
      height: 260px;
      margin: 24px auto 0;
      border-radius: 50%;
      background:
        radial-gradient(circle at 30% 20%, rgba(249, 250, 251, 0.9), transparent 55%),
        radial-gradient(circle at 80% 70%, rgba(56, 189, 248, 0.75), transparent 60%),
        radial-gradient(circle at 40% 80%, rgba(22, 163, 74, 0.85), transparent 65%),
        radial-gradient(circle at 10% 90%, rgba(59, 130, 246, 0.75), transparent 70%);
      box-shadow: 0 0 60px rgba(56, 189, 248, 0.7);
      animation: rotateEarth 40s linear infinite;
    }

    @keyframes rotateEarth {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @media (max-width: 960px) {
      .chapter-overlay {
        padding: 64px 16px 64px;
      }
      .chapter-text {
        max-width: none;
      }
    }

    @media (max-width: 640px) {
      .hero-wrapper {
        padding: 22px 14px 40px;
      }
      .chapter-overlay {
        padding: 56px 14px 56px;
      }
      .chapter-text h2 {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <div class="scroll-progress" id="scrollProgress"></div>

  <!-- HERO (no iframe) -->
  <div class="hero-wrapper">
    <header class="hero">
      <div class="hero-kicker">Scrollytelling • Space Exploration</div>
      <div class="hero-title">
        Space: humanity’s greatest leap…<br />
        <span>and its most expensive gamble.</span>
      </div>
      <p class="hero-subtitle">
        Scroll to move through full-screen mission windows. Each one is a different
        data story: collaboration, budgets, failures, emissions, debris, and jobs.
      </p>
      <div class="hero-tags">
        <span class="chip good">Innovation &amp; cooperation</span>
        <span class="chip bad">Cost, risk &amp; debris</span>
        <span class="chip">Scaled widgets • No inner scrolling</span>
      </div>
      <p class="hero-note">
        Each visualization lives in its own HTML file (<code>vivek1.html</code>,
        <code>sehas1.html</code>, <code>samyogita1.html</code>,
        <code>manya2.html</code>, <code>razan1.html</code>, etc.).
        This page stitches them into one continuous space story and scales them
        to fit your screen.
      </p>
    </header>
  </div>

  <!-- FULLSCREEN CHAPTERS -->
  <div class="chapters-container">

    <!-- Scene 1 – orbit mode (vivek1) -->
    <section
      class="chapter"
      data-act="ACT I · Wonder & Promise"
      data-title="A Planet Looking Up Together"
      data-index="0"
      data-mode="orbit"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="vivek1.html" title="International Cooperation Network"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-1">ACT I · Wonder &amp; Promise</span>
          </div>
          <div class="chapter-lede">The Spark</div>
          <h2>We stopped just dreaming about the sky—and started launching together.</h2>
          <p>
            Looking up used to be myth. Now it’s code, guidance computers, and launch windows.
            The surprising twist is that space stopped being a one-country race.
          </p>
          <p class="strong">
            Behind almost every big mission is a web of shared risk and shared data.
          </p>
          <p class="chapter-meta">
            Each glowing line is a mission where exploration became diplomacy between flags.
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 2 – slide mode (use sehas1.html, not sehas2) -->
    <section
      class="chapter"
      data-act="ACT I · Wonder & Promise"
      data-title="The Launch Boom"
      data-index="1"
      data-mode="slide"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="sehas1.html" title="Top Missions by Cost & Time"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-1">ACT I · Wonder &amp; Promise</span>
          </div>
          <div class="chapter-lede">The Launch Boom</div>
          <h2>Mission counts didn’t just grow—they exploded.</h2>
          <p>
            Commercial rockets, reusable boosters, and satellite constellations
            turned launches from rare national events into an industry heartbeat.
          </p>
          <p>
            The chart beneath you tracks how mission budgets, timelines, and outcomes stack up over time.
          </p>
          <p class="chapter-meta">
            Hover through the years: are we slowing down, or racing faster than ever?
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 3 – tilt mode (samyogita2) -->
    <section
      class="chapter"
      data-act="ACT I · Wonder & Promise"
      data-title="The Hidden Gifts of Space"
      data-index="2"
      data-mode="tilt"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="samyogita2.html" title="Space Tech Spin-offs"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-1">ACT I · Wonder &amp; Promise</span>
          </div>
          <div class="chapter-lede">Hidden Gifts</div>
          <h2>Not every launch lands on a planet. Some land in hospitals and homes.</h2>
          <p>
            Each bubble stands for a technology shaped by space:
            medical scanners, GPS, robotics, water purification, precision farming.
          </p>
          <p class="chapter-meta">
            Count how many of these orbit your daily life without you noticing.
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 4 – zoom mode (vivek2) -->
    <section
      class="chapter"
      data-act="ACT I · Wonder & Promise"
      data-title="The Economic Uplift"
      data-index="3"
      data-mode="zoom"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="vivek2.html" title="Space Economy Sankey"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-1">ACT I · Wonder &amp; Promise</span>
          </div>
          <div class="chapter-lede">Economic Uplift</div>
          <h2>From orbit to payroll: how space money turns into Earth jobs.</h2>
          <p>
            Investments in launch, satellites, and data downstream into jobs, salaries,
            and GDP contributions across sectors.
          </p>
          <p class="strong">
            Space doesn’t just burn fuel; it pays people.
          </p>
          <p class="chapter-meta">
            Follow the thickest flows: they show where “space” has become economic infrastructure.
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 5 – slide (sehas1 already used above, so this is purely cost) -->
    <section
      class="chapter"
      data-act="ACT II · The Cost of the Stars"
      data-title="The Price Tag No One Sees"
      data-index="4"
      data-mode="slide"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="sehas1.html" title="Top Missions by Cost"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-2">ACT II · The Cost of the Stars</span>
          </div>
          <div class="chapter-lede">The Price Tag</div>
          <h2>Try to guess the bill before the bars appear.</h2>
          <p>
            Year after year, budgets stack into tens of billions. Some missions cost more
            because they anchor decades of science.
          </p>
          <p class="chapter-meta">
            Hover the tallest bars and note which flags sit behind the biggest cheques.
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 6 – orbit (FAILURE, sehas2 – only here, scaled for 25 years) -->
    <section
      class="chapter"
      data-act="ACT II · The Cost of the Stars"
      data-title="Failure in the Void"
      data-index="5"
      data-mode="orbit"
    >
      <div class="chapter-bg">
        <!-- Wider design width so we scale down a 25-year timeline cleanly -->
        <div class="widget-shell" data-design-width="2500" data-design-height="800">
          <iframe src="sehas2.html" title="Mission Cost vs Success"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-2">ACT II · The Cost of the Stars</span>
          </div>
          <div class="chapter-lede">Failure in the Void</div>
          <h2>When a mission fails, the wreckage is invisible—but the bill isn’t.</h2>
          <p>
            Some dots in this timeline hide explosions, silent spacecraft, or missions that never arrived
            across roughly twenty-five years of missions.
          </p>
          <p class="chapter-meta">
            Focus on the failed missions: how many billions did we spend for those X’s in the sky?
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 7 – tilt (emissions, samyogita1) -->
    <section
      class="chapter"
      data-act="ACT II · The Cost of the Stars"
      data-title="The Environmental Wake-Up Call"
      data-index="6"
      data-mode="tilt"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="samyogita1.html" title="Rocket Emissions Comparison"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-2">ACT II · The Cost of the Stars</span>
          </div>
          <div class="chapter-lede">Atmospheric Footprint</div>
          <h2>Rockets punch through layers of air most pollution never reaches.</h2>
          <p>
            Here, launches sit next to emissions from planes, homes, and transport.
            The totals might surprise you.
          </p>
          <p class="chapter-meta">
            Toggle different sources and imagine the chemistry changes in the upper atmosphere.
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 8 – orbit (debris, razan1) -->
    <section
      class="chapter"
      data-act="ACT II · The Cost of the Stars"
      data-title="Orbits Turning Into Junkyards"
      data-index="7"
      data-mode="orbit"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="razan1.html" title="Space Debris Story"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-2">ACT II · The Cost of the Stars</span>
          </div>
          <div class="chapter-lede">Debris</div>
          <h2>Every failed launch stays in orbit long after the funding ends.</h2>
          <p>
            Low Earth orbit is turning into a shell of dead satellites and fragments.
          </p>
          <p class="chapter-meta">
            Imagine building highways on Earth if crashed cars never rusted away or were removed.
          </p>
        </article>
      </div>
    </section>

    <!-- Scene 9 – slide (country missions, manya2) -->
    <section
      class="chapter"
      data-act="ACT III · Finding the Balance"
      data-title="The Race to the Future"
      data-index="8"
      data-mode="slide"
    >
      <div class="chapter-bg">
        <div class="widget-shell" data-design-width="1400" data-design-height="800">
          <iframe src="manya2.html" title="Country Missions Over Time"></iframe>
        </div>
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-3">ACT III · Finding the Balance</span>
          </div>
          <div class="chapter-lede">The Race</div>
          <h2>Nations aren’t easing off the throttle—they’re stepping harder on it.</h2>
          <p>
            This chart tracks countries competing and collaborating across decades.
            Lines climb, intersect, and surge as new players join the game.
          </p>
          <p class="chapter-meta">
            Think of it as a mission leaderboard: the next chapter will be more crowded than the last.
          </p>
        </article>
      </div>
    </section>

    <!-- Final scene -->
    <section
      class="chapter full-text"
      data-act="Epilogue"
      data-title="The Question We’re Really Asking"
      data-index="9"
      data-mode="zoom"
    >
      <div class="chapter-bg">
        <!-- Optional calm background -->
      </div>
      <div class="chapter-overlay">
        <article class="chapter-text">
          <div class="act-label-inline">
            <span class="act-pill act-3">Epilogue</span>
          </div>
          <div class="chapter-lede">The Real Question</div>
          <h2>Is space our greatest engine for progress—or our most expensive distraction?</h2>
          <p>
            You’ve seen two stories braided together:
            one where space sparks cooperation, innovation, and economic growth;
            another where it carries heavy costs in money, risk, emissions, and debris.
          </p>
          <p>
            The truth sits somewhere between them. Space travel is risk
            <em>and</em> reward. Loss <em>and</em> discovery. Danger
            <em>and</em> possibility.
          </p>
          <p class="strong">
            The next chapter is written launch by launch, mission by mission,
            choice by choice—by the people who decide what we send up,
            and what we choose to fix down here.
          </p>
          <div class="final-earth"></div>
        </article>
      </div>
    </section>
  </div>

  <script>
    const chapters = document.querySelectorAll(".chapter");
    const scrollProgress = document.getElementById("scrollProgress");

    // Scroll progress bar
    function updateScrollProgress() {
      const scrollTop = window.scrollY || window.pageYOffset;
      const docHeight =
        document.documentElement.scrollHeight -
        document.documentElement.clientHeight;
      const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
      scrollProgress.style.width = progress + "%";
    }

    // Scale widgets so they never exceed viewport width/height
    function rescaleWidgets() {
      const vw = window.innerWidth;
      const vh = window.innerHeight;

      document.querySelectorAll(".widget-shell").forEach(shell => {
        const designW = parseFloat(shell.dataset.designWidth) || 1400;
        const designH = parseFloat(shell.dataset.designHeight) || 800;

        const maxW = vw;
        const maxH = vh;

        const scale = Math.min(maxW / designW, maxH / designH, 1);

        shell.style.transform = `translate(-50%, -50%) scale(${scale})`;
      });
    }

    // Scene transforms: different "story modes"
    function updateSceneTransforms() {
      const vh = window.innerHeight;
      chapters.forEach(ch => {
        const rect = ch.getBoundingClientRect();
        const center = rect.top + rect.height / 2;
        const dist = (center - vh / 2) / vh; // roughly -1 .. 1
        const d = Math.max(-1, Math.min(1, dist)); // clamp

        const bg = ch.querySelector(".chapter-bg");
        const text = ch.querySelector(".chapter-text");
        const mode = ch.dataset.mode || "slide";

        const opacity = 0.25 + (1 - Math.min(1, Math.abs(d) * 1.4)) * 0.75;
        ch.style.opacity = opacity.toFixed(3);

        if (!bg && !text) return;

        if (mode === "orbit" && bg) {
          const radius = 40;
          const angle = d * Math.PI;
          const x = Math.cos(angle) * radius;
          const y = Math.sin(angle) * radius;
          const scale = 1 - Math.abs(d) * 0.08;
          bg.style.transform =
            `translate(${x}px, ${y}px) scale(${scale.toFixed(3)})`;
          if (text) {
            text.style.transform = `translateY(${d * -30}px)`;
          }
        } else if (mode === "slide") {
          const offset = d * 80;
          if (bg) {
            const scale = 1 - Math.abs(d) * 0.12;
            bg.style.transform =
              `translateX(${offset}px) scale(${scale.toFixed(3)})`;
          }
          if (text) {
            text.style.transform = `translateX(${offset * -0.4}px)`;
          }
        } else if (mode === "tilt") {
          if (bg) {
            const tilt = d * 5;
            bg.style.transform =
              `translateY(${d * 40}px) rotateX(${tilt}deg) rotateY(${tilt * 0.7}deg)`;
          }
          if (text) {
            text.style.transform = `translateY(${d * -25}px)`;
          }
        } else if (mode === "zoom") {
          if (bg) {
            const scale = 1 - Math.abs(d) * 0.18;
            bg.style.transform =
              `translateY(${d * 40}px) scale(${scale.toFixed(3)})`;
          }
          if (text) {
            text.style.transform = `translateY(${d * -20}px)`;
          }
        }
      });
    }

    window.addEventListener("scroll", () => {
      updateScrollProgress();
      updateSceneTransforms();
    });

    window.addEventListener("resize", () => {
      rescaleWidgets();
      updateSceneTransforms();
    });

    // Initial
    updateScrollProgress();
    rescaleWidgets();
    updateSceneTransforms();
  </script>
</body>
</html>
